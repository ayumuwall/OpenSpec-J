# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šãƒ‡ãƒ¢ã‚¬ã‚¤ãƒ‰

`openspec/config.yaml` æ©Ÿèƒ½ã‚’ãƒ‡ãƒ¢ã™ã‚‹ãŸã‚ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚

## æ¦‚è¦: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã§ã§ãã‚‹ã“ã¨

ã“ã®æ©Ÿèƒ½ã¯ã€`openspec/config.yaml` ã‚’è»½é‡ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã—ã¦è¿½åŠ ã—ã€ãƒãƒ¼ãƒ ãŒæ¬¡ã‚’è¡Œãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™:

- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ã‚­ãƒ¼ãƒã‚’è¨­å®š** - æ–°è¦ã®å¤‰æ›´ä½œæˆæ™‚ã« `--schema` ã‚’æ¯å›æŒ‡å®šã›ãšã€æŒ‡å®šã—ãŸã‚¹ã‚­ãƒ¼ãƒã‚’è‡ªå‹•ã§ä½¿ç”¨
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ–‡è„ˆã‚’æ³¨å…¥** - å…±æœ‰æ–‡è„ˆï¼ˆæŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã€æ…£ç¿’ï¼‰ã‚’ã€ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆä½œæˆæ™‚ã« AI ã¸æç¤º
- **ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆåˆ¥ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ** - ç‰¹å®šã®ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆï¼ˆproposal, specs ãªã©ï¼‰ã«ã ã‘é©ç”¨ã•ã‚Œã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«

## ãƒ‡ãƒ¢æ‰‹é †

### ãƒ‡ãƒ¢1: å¯¾è©±ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆæ¨å¥¨ï¼‰

æœ€ã‚‚ç°¡å˜ãªãƒ‡ãƒ¢ã¯å®Ÿé¨“çš„ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã“ã¨ã§ã™:

```bash
openspec artifact-experimental-setup
```

ã‚¹ã‚­ãƒ«/ã‚³ãƒãƒ³ãƒ‰ä½œæˆå¾Œã€æ¬¡ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™:

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šï¼ˆä»»æ„ï¼‰

OpenSpec ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ä½¿ã†ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ—¢å®šå€¤ã‚’è¨­å®šã—ã¾ã™ã€‚

? openspec/config.yaml ã‚’ä½œæˆã—ã¾ã™ã‹ï¼Ÿ (Y/n)
```

é€²ã‚æ–¹:

1. **ã‚¹ã‚­ãƒ¼ãƒã‚’é¸æŠ** - åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚­ãƒ¼ãƒã¨ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆãƒ•ãƒ­ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
2. **æ–‡è„ˆã‚’è¿½åŠ ** - è¤‡æ•°è¡Œã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ–‡è„ˆï¼ˆæŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã€æ…£ç¿’ãªã©ï¼‰ã‚’ã‚¨ãƒ‡ã‚£ã‚¿ã§å…¥åŠ›
3. **ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ** - ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆé¸æŠ â†’ ãƒ«ãƒ¼ãƒ«ã‚’è¡Œå˜ä½ã§å…¥åŠ›

ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é¸æŠã«åŸºã¥ã„ãŸ `openspec/config.yaml` ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

### ãƒ‡ãƒ¢2: æ‰‹å‹•ã§ã®è¨­å®šä½œæˆ

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç›´æ¥è¨­å®šã‚’æ›¸ã‘ã‚‹ã“ã¨ã‚‚ç¤ºã—ã¾ã™:

```bash
cat > openspec/config.yaml << 'EOF'
schema: spec-driven

context: |
  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯: TypeScript, React, Node.js, PostgreSQL
  API ã‚¹ã‚¿ã‚¤ãƒ«: RESTfulï¼ˆdocs/api.md ã«è¨˜è¼‰ï¼‰
  ãƒ†ã‚¹ãƒˆ: Jest + React Testing Library
  å…¬é–‹ API ã¯å¾Œæ–¹äº’æ›æ€§ã‚’é‡è¦–ã™ã‚‹

rules:
  proposal:
    - ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †ã‚’å«ã‚ã‚‹
    - å½±éŸ¿ãƒãƒ¼ãƒ ã‚’ç‰¹å®šã— #platform-changes ã«é€šçŸ¥
  specs:
    - Given/When/Then å½¢å¼ã‚’ä½¿ç”¨
    - æ—¢å­˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å‚ç…§ã—ã¦ã‹ã‚‰æ–°è¦ææ¡ˆã™ã‚‹
EOF
```

### ãƒ‡ãƒ¢3: æ–°è¦å¤‰æ›´ã¸ã®å½±éŸ¿

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ã‚­ãƒ¼ãƒãŒè‡ªå‹•ã§ä½¿ã‚ã‚Œã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™:

```bash
# è¨­å®šå‰: ã‚¹ã‚­ãƒ¼ãƒæŒ‡å®šãŒå¿…è¦
openspec new change my-feature --schema spec-driven

# è¨­å®šå¾Œ: ã‚¹ã‚­ãƒ¼ãƒã¯è‡ªå‹•
openspec new change my-feature
# è¨­å®šã® spec-driven ãŒè‡ªå‹•ã§ä½¿ç”¨ã•ã‚Œã‚‹
```

### ãƒ‡ãƒ¢4: æ–‡è„ˆã¨ãƒ«ãƒ¼ãƒ«ã®æ³¨å…¥

ã“ã“ãŒãƒ‡ãƒ¢ã®è¦ç‚¹: æŒ‡ç¤ºãŒã©ã®ã‚ˆã†ã«å¼·åŒ–ã•ã‚Œã‚‹ã‹ã‚’ç¤ºã—ã¾ã™:

```bash
# ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã®æŒ‡ç¤ºã‚’å–å¾—
openspec instructions proposal --change my-feature
```

å‡ºåŠ›ã¯æ¬¡ã® XML æ§‹é€ ã«ãªã‚Šã¾ã™:

```xml
<context>
æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯: TypeScript, React, Node.js, PostgreSQL
API ã‚¹ã‚¿ã‚¤ãƒ«: RESTfulï¼ˆdocs/api.md ã«è¨˜è¼‰ï¼‰
...
</context>

<rules>
- ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †ã‚’å«ã‚ã‚‹
- å½±éŸ¿ãƒãƒ¼ãƒ ã‚’ç‰¹å®šã— #platform-changes ã«é€šçŸ¥
</rules>

<template>
[ã‚¹ã‚­ãƒ¼ãƒã®ææ¡ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ]
</template>
```

å¼·èª¿ãƒã‚¤ãƒ³ãƒˆ:

- **æ–‡è„ˆ**ã¯ã™ã¹ã¦ã®ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆï¼ˆproposal, specs, design, tasksï¼‰ã«è¡¨ç¤ºã•ã‚Œã‚‹
- **ãƒ«ãƒ¼ãƒ«**ã¯è©²å½“ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã«ã®ã¿è¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆproposal ãƒ«ãƒ¼ãƒ«ã¯ proposal æŒ‡ç¤ºã®ã¿ï¼‰

### ãƒ‡ãƒ¢5: å„ªå…ˆé †ä½ã®ä¸Šæ›¸ã

ã‚¹ã‚­ãƒ¼ãƒè§£æ±ºé †åºã‚’ç¤ºã—ã¾ã™:

```bash
# config ã§ schema: spec-driven ã‚’æŒ‡å®šã—ã¦ã„ã‚‹å ´åˆ

# 1. CLI ãƒ•ãƒ©ã‚°ãŒæœ€å„ªå…ˆ
openspec new change feature-a --schema tdd  # tdd ã‚’ä½¿ç”¨

# 2. å¤‰æ›´ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒ config ã‚ˆã‚Šå„ªå…ˆ
# (å¤‰æ›´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã® .openspec.yaml ã« schema ãŒã‚ã‚‹å ´åˆ)

# 3. config ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ã—ã¦ä½¿ã‚ã‚Œã‚‹
openspec new change feature-b  # config ã® spec-driven ã‚’ä½¿ç”¨

# 4. ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã®æ—¢å®šå€¤ï¼ˆconfig ãŒç„¡ã„å ´åˆï¼‰
# æœ€çµ‚çš„ã« spec-driven ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
```

### ãƒ‡ãƒ¢6: æ¤œè¨¼ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

ä¸å¯§ãªã‚¨ãƒ©ãƒ¼å‡¦ç†ã‚’ç¤ºã—ã¾ã™:

```bash
# ã‚¿ã‚¤ãƒã‚’å«ã‚€ config ã‚’ä½œæˆ
echo "schema: spec-drivne" > openspec/config.yaml

# åˆ©ç”¨ã™ã‚‹ã¨å€™è£œã‚’æç¤º
openspec new change test
# openspec/config.yaml ã«æŒ‡å®šã•ã‚ŒãŸã‚¹ã‚­ãƒ¼ãƒ 'spec-drivne' ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
# æ¬¡ã®ã„ãšã‚Œã‹ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ
#   - spec-driven (çµ„ã¿è¾¼ã¿)
```

```bash
# rules ã«ä¸æ˜ãªã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆID - è­¦å‘Šã®ã¿ã§ç¶™ç¶š
cat > openspec/config.yaml << 'EOF'
schema: spec-driven
rules:
  testplan:  # ã‚¹ã‚­ãƒ¼ãƒã«å­˜åœ¨ã—ãªã„
    - Some rule
EOF

openspec instructions proposal --change test
# âš ï¸ rules å†…ã®ä¸æ˜ãªã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆID: "testplan". ã‚¹ã‚­ãƒ¼ãƒ "spec-driven" ã®æœ‰åŠ¹ID: ...
# (å‡¦ç†ã¯ç¶™ç¶š)
```

## ã‚¯ã‚¤ãƒƒã‚¯ãƒ‡ãƒ¢ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

ç´ æ—©ããƒ‡ãƒ¢ã™ã‚‹ãŸã‚ã®ä¸€é€£ã®æ‰‹é †:

```bash
# 1. åˆæœŸçŠ¶æ…‹ã§ã¯ config ãŒç„¡ã„ã“ã¨ã‚’ç¢ºèª
cat openspec/config.yaml 2>/dev/null || echo "No config exists"

# 2. ç°¡å˜ãª config ã‚’ä½œæˆ
cat > openspec/config.yaml << 'EOF'
schema: spec-driven
context: |
  ã“ã®ãƒ‡ãƒ¢ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ React ã¨ TypeScript ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
  ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã«å¾“ã„ã¾ã™ã€‚
rules:
  proposal:
    - ç ´å£Šçš„å¤‰æ›´ãŒã‚ã‚‹å ´åˆã¯ç§»è¡Œæ‰‹é †ã‚’å«ã‚ã‚‹
EOF

# 3. config ã‚’è¡¨ç¤º
cat openspec/config.yaml

# 4. å¤‰æ›´ã‚’ä½œæˆï¼ˆconfig ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ã‚­ãƒ¼ãƒã‚’ä½¿ç”¨ï¼‰
openspec new change demo-feature

# 5. æ–‡è„ˆ/ãƒ«ãƒ¼ãƒ«ãŒæ³¨å…¥ã•ã‚ŒãŸæŒ‡ç¤ºã‚’ç¢ºèª
openspec instructions proposal --change demo-feature | head -30

# 6. specs ã«ã¯ proposal ãƒ«ãƒ¼ãƒ«ãŒå‡ºãªã„ã“ã¨ã‚’ç¢ºèª
openspec instructions specs --change demo-feature | head -30
```

## ãƒ‡ãƒ¢ã§å¼·èª¿ã—ãŸã„ãƒã‚¤ãƒ³ãƒˆ

- **æ‰‹è»½ã•** - ã‚¹ã‚­ãƒ¼ãƒã‚’ãƒ•ã‚©ãƒ¼ã‚¯ã›ãšã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã‚‹
- **å…±æœ‰æ–‡è„ˆ** - ãƒãƒ¼ãƒ å…¨å“¡ãŒåŒã˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ã‚’å…±æœ‰
- **ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆåˆ¥ãƒ«ãƒ¼ãƒ«** - å¿…è¦ãªã¨ã“ã‚ã ã‘ã«ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ã‚’æä¾›
- **å®‰å…¨ãªå¤±æ•—** - ã‚¿ã‚¤ãƒã¯è­¦å‘Šã®ã¿ã§ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯æ­¢ã¾ã‚‰ãªã„
- **ãƒãƒ¼ãƒ å…±æœ‰** - `openspec/config.yaml` ã‚’ã‚³ãƒŸãƒƒãƒˆã™ã‚‹ã ã‘ã§å…¨å“¡ã«åæ˜ 
